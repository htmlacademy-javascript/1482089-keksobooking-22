{"version":3,"sources":["webpack://keksobooking/./source/js/constants-data.js","webpack://keksobooking/./source/js/generate-offer.js","webpack://keksobooking/./source/js/filters.js","webpack://keksobooking/./source/js/map.js","webpack://keksobooking/./source/js/upload-images.js","webpack://keksobooking/./source/js/utils.js","webpack://keksobooking/./source/js/data.js","webpack://keksobooking/./source/js/check-form.js"],"names":["TOKYO_LAT","TOKYO_LNG","TIMES","ROOMS_AND_CAPA_TOKYO_MAP","DEFAULT_FILTER_VALUE","FILE_TYPES","RERENDER_DELAY","offerTemplate","document","querySelector","content","typeInput","priceInput","roomsInput","guestInput","featuresCheckList","setListener","cb","listenerTarget","addEventListener","querySelectorAll","forEach","marker","remove","popup","style","display","filterTypes","item","value","offer","type","filterPrice","price","filterRooms","rooms","filterGuest","guests","filterFeatures","features","every","call","it","indexOf","adForm","adFieldsets","filter","mapFilters","mapFeatures","mapContainer","addressInput","deactivateForm","isDeactivate","classList","add","field","disabled","map","L","on","setView","lat","lng","tileLayer","attribution","addTo","myIcon","icon","iconUrl","iconSize","iconAnchor","MARKER_WIDTH","draggable","coordinates","getLatLng","coordinateLat","Number","toFixed","coordinateLng","readOnly","evt","newCoordinates","target","newCoordinateLat","newCoordinateLng","profileIcon","addOffersToMap","array","slice","profile","location","bindPopup","newOffer","cloneNode","offerTitle","offerAddress","offerPrice","offerType","offerRoomsForGuest","offerTimes","featuresList","featuresItems","children","offerDescription","offerPhotosContainer","offerPhoto","offerAvatar","textContent","title","address","obj","typeName","checkTypeOffer","roomsForText","guest","checkin","checkout","i","length","newItem","createElement","className","appendChild","description","photos","newPhoto","src","author","avatar","generateOffer","getData","profiles","_","debounce","avatarInput","check","name","some","fileEnd","endsWith","uploadedFile","files","fileName","toLowerCase","reader","FileReader","readAsDataURL","result","offerImagesInput","offerImagesContainer","fieldset","file","newContainer","newPic","width","height","cleanButton","cleanPhotos","openErrorDataPopup","errorPopup","textAlign","backgroundColor","position","padding","fontSize","top","right","left","body","setTimeout","closePopups","element","closeButton","contains","keyCode","clonePopup","idSelector","classSelector","container","zIndex","clearForm","filters","form","reset","setLatLng","onSuccess","newSuccessPopup","onError","fetch","then","response","json","catch","typesOffer","Object","keys","minPricesOfTypesOffer","values","inputTypeOffer","inputPrice","inputOfferTitle","placeholder","min","setCustomValidity","reportValidity","preventDefault","titleLength","inputTimeIn","inputTimeOut","roomNumber","capacityOptions","setDisabledValue","elements","whichOptionsToDisable","selected","calculateRoomsAndCapacity","fromData","FormData","method"],"mappings":"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","file":"main.bundle.js","sourcesContent":["// Постоянные значения координат для вспомогательных функций\nconst MIN_COORDINATE_X = 35.65000;\nconst MAX_COORDINATE_X = 35.70000;\nconst MIN_COORDINATE_Y = 139.70000;\nconst MAX_COORDINATE_Y = 139.80000;\nconst NUMBERS_AFTER_POINT = 5;\nconst NUMBER_PROFILES = 10;\n\n// Значения для карты\nconst MARKER_WIDTH = 60;\nconst MARKER_HEIGHT = 60;\nconst TOKYO_LAT = 35.683377;\nconst TOKYO_LNG = 139.754519;\nconst MAP_SCALE = 9;\n\n// Значения для валидации длины заголовка\nconst MIN_TITLE_LENGTH = 30;\nconst MAX_TITLE_LENGTH = 100;\nconst MAX_PRICE = 1000000;\n\n// Значения для валидации зависимости кол-ва гостей от кол-ва комнат\nconst ONE_ROOM = '1'\nconst TWO_ROOMS = '2'\nconst THREE_ROOMS = '3'\nconst MANY_ROOMS = '100'\nconst NOT_FOR_GUEST = '0';\nconst FOR_ONE_GUEST = '1';\nconst FOR_TWO_GUEST = '2';\nconst FOR_THREE_GUEST = '3';\n\nconst PHOTOS_LINKS = [1, 2, 3, 4, 5, 6, 7, 8];\nconst HOUSE_TYPES = ['palace', 'flat', 'house', 'bungalow'];\nconst TIMES = ['12:00', '13:00', '14:00'];\nconst FEATURES_ARR = ['wifi', 'dishwasher', 'parking', 'washer', 'elevator', 'conditioner'];\nconst PHOTOS_ARR = ['http://o0.github.io/assets/images/tokyo/hotel1.jpg', 'http://o0.github.io/assets/images/tokyo/hotel2.jpg', 'http://o0.github.io/assets/images/tokyo/hotel3.jpg'];\nconst ROOMS_AND_CAPA_TOKYO_MAP = {'bungalow': 0, 'flat': 1000, 'house': 5000, 'palace': 10000 };\n\n// Константы для фильтрации объявлений\nconst MAX_FILTER_PRICE = 50000;\nconst MIN_FILTER_PRICE = 10000;\nconst LOW_PRICE_LEVEL = 'low';\nconst MIDDLE_PRICE_LEVEL = 'middle';\nconst HIGH_PRICE_LEVEL = 'high';\nconst DEFAULT_FILTER_VALUE = 'any';\n\n// Допустимые форматы картинок\nconst FILE_TYPES = ['jpg', 'jpeg', 'png'];\n\n// Задержка вызова\nconst RERENDER_DELAY = 500;\n\nexport {\n  MIN_COORDINATE_X,\n  MAX_COORDINATE_X,\n  MIN_COORDINATE_Y,\n  MAX_COORDINATE_Y,\n  NUMBERS_AFTER_POINT,\n  NUMBER_PROFILES,\n  PHOTOS_LINKS,\n  HOUSE_TYPES,\n  TIMES,\n  FEATURES_ARR,\n  PHOTOS_ARR,\n  ROOMS_AND_CAPA_TOKYO_MAP,\n  MARKER_WIDTH,\n  MARKER_HEIGHT,\n  TOKYO_LAT,\n  TOKYO_LNG,\n  MAP_SCALE,\n  MIN_TITLE_LENGTH,\n  MAX_TITLE_LENGTH,\n  MAX_PRICE,\n  ONE_ROOM,\n  TWO_ROOMS,\n  THREE_ROOMS,\n  MANY_ROOMS,\n  NOT_FOR_GUEST,\n  FOR_ONE_GUEST,\n  FOR_TWO_GUEST,\n  FOR_THREE_GUEST,\n  MAX_FILTER_PRICE,\n  MIN_FILTER_PRICE,\n  LOW_PRICE_LEVEL,\n  MIDDLE_PRICE_LEVEL,\n  HIGH_PRICE_LEVEL,\n  DEFAULT_FILTER_VALUE,\n  FILE_TYPES,\n  RERENDER_DELAY\n}\n","let offerTemplate = document.querySelector('#card').content.querySelector('.popup');\n\n\n// Функция для определения типа жилья и перевода в читаемое значения\nlet checkTypeOffer = (obj) => {\n  let typeName = 'Квартира';\n  if (obj.offer.type === 'bungalow') {typeName = 'Бунгало'}\n  if (obj.offer.type === 'house') {typeName = 'Дом'}\n  if (obj.offer.type === 'palace') {typeName = 'Дворец'}\n\n  return typeName\n}\n\nlet generateOffer = (profile) => {\n  let newOffer = offerTemplate.cloneNode(true);\n\n  let offerTitle = newOffer.querySelector('.popup__title');\n  let offerAddress = newOffer.querySelector('.popup__text--address');\n  let offerPrice = newOffer.querySelector('.popup__text--price');\n  let offerType = newOffer.querySelector('.popup__type');\n  let offerRoomsForGuest = newOffer.querySelector('.popup__text--capacity');\n  let offerTimes = newOffer.querySelector('.popup__text--time');\n  let featuresList = newOffer.querySelector('.popup__features');\n  let featuresItems = featuresList.children;\n  let offerDescription = newOffer.querySelector('.popup__description');\n  let offerPhotosContainer = newOffer.querySelector('.popup__photos');\n  let offerPhoto = offerPhotosContainer.querySelector('.popup__photo');\n  let offerAvatar = newOffer.querySelector('.popup__avatar');\n\n  offerTitle.textContent = profile.offer.title; // заголовок объявления\n  offerAddress.textContent = profile.offer.address; // адрес\n  offerPrice.textContent = profile.offer.price + ' ₽/ночь'; // цена\n  offerType.textContent = checkTypeOffer(profile); // тип жилья\n\n  // Корректные слова в зависимости от чисел\n  let roomsForText = ' комната для '\n  let guest = ' гостя'\n\n  if (profile.offer.rooms > 1) {roomsForText = ' комнаты для '}\n  if (profile.offer.rooms > 4) {roomsForText = ' комнат для '}\n  if (profile.offer.guests > 1) {guest = ' гостей'}\n\n  offerRoomsForGuest.textContent = profile.offer.rooms + roomsForText + profile.offer.guests + guest; // количество гостей и комнат\n  offerTimes.textContent = 'Заезд после ' + profile.offer.checkin + ' выезд до ' + profile.offer.checkout; // Время заезда и выезда\n\n  for (let i = featuresItems.length - 1; i >= 0; i--) {\n    featuresItems[i].remove()\n  }\n\n  profile.offer.features.forEach((item) => {\n    let newItem = document.createElement('li');\n    newItem.classList.add('popup__feature');\n    let className = `popup__feature--${item}`;\n    newItem.classList.add(className);\n    featuresList.appendChild(newItem);\n  })\n\n  offerDescription.textContent = profile.offer.description;\n\n  // Копируем тег фотографии из шаблона, добавляем src из полученного массива и вставляем в контейнер\n  for (let i = 0; i < profile.offer.photos.length; i++) {\n    let newPhoto = offerPhoto.cloneNode(true);\n    newPhoto.src = profile.offer.photos[i];\n    offerPhotosContainer.appendChild(newPhoto);\n  }\n\n  offerPhotosContainer.children[0].remove(); // Удаляем шаблон тега из контейнера\n\n  if (offerPhotosContainer.children.length === 0) {offerPhotosContainer.remove()} // Если нет данных о фотографиях удаляем контейнер с фотографиями\n\n  offerAvatar.src = profile.author.avatar;\n\n  if (profile.author.avatar === 'img/avatars/user0undefined.png') {offerAvatar.remove()} // Удаляем аватар, если нет ссылки на фотографию\n\n  return newOffer\n}\n\nexport {generateOffer};\n","import {MAX_FILTER_PRICE,  MIN_FILTER_PRICE,  LOW_PRICE_LEVEL,  MIDDLE_PRICE_LEVEL,  HIGH_PRICE_LEVEL,  DEFAULT_FILTER_VALUE} from './constants-data.js'\n\nlet typeInput = document.querySelector('#housing-type');\nlet priceInput = document.querySelector('#housing-price');\nlet roomsInput = document.querySelector('#housing-rooms');\nlet guestInput = document.querySelector('#housing-guests');\nlet featuresCheckList = document.querySelector('#housing-features');\n\nlet setListener = (cb, listenerTarget) => {\n  listenerTarget.addEventListener('change', () => {\n    let markers = document.querySelectorAll('.leaflet-marker-icon:not(:first-of-type)');\n    markers.forEach((marker) => {marker.remove()});\n\n    let popup = document.querySelector('.leaflet-popup');\n    if (popup) {\n      popup.style.display = 'none';\n    }\n\n    cb();\n  })\n}\n\nlet filterTypes = function (item) {\n  return typeInput.value === item.offer.type || typeInput.value === DEFAULT_FILTER_VALUE;\n}\n\nlet filterPrice = (item) => {\n  let priceLevel = priceInput.value;\n  switch (priceLevel) {\n    case LOW_PRICE_LEVEL:\n      return item.offer.price < MIN_FILTER_PRICE;\n    case MIDDLE_PRICE_LEVEL:\n      return item.offer.price >= MIN_FILTER_PRICE && item.offer.price < MAX_FILTER_PRICE;\n    case HIGH_PRICE_LEVEL:\n      return item.offer.price >= MAX_FILTER_PRICE;\n    default:\n      return true;\n  }\n}\n\nlet filterRooms = (item) => {\n  return item.offer.rooms >= roomsInput.value || roomsInput.value === DEFAULT_FILTER_VALUE;\n}\n\nlet filterGuest = (item) => {\n  return item.offer.guests >= guestInput.value || guestInput.value === DEFAULT_FILTER_VALUE;\n}\n\nlet filterFeatures = (item) => {\n  let features = featuresCheckList.querySelectorAll('input:checked');\n  let offerFeatures = item.offer.features;\n\n  return offerFeatures.every.call(features, function (it) {\n\n    return item.offer.features.indexOf(it.value) !== -1;\n\n  });\n}\n\nexport {filterTypes, filterPrice, filterRooms, filterGuest, filterFeatures, setListener}\n","/* global _:readonly */\n/* global L:readonly */\nimport {MARKER_WIDTH, MARKER_HEIGHT, TOKYO_LAT, TOKYO_LNG, MAP_SCALE, RERENDER_DELAY} from './constants-data.js'\nimport {generateOffer} from './generate-offer.js';\nimport {filterTypes, filterPrice, filterRooms, filterGuest, filterFeatures, setListener} from './filters.js'\nimport {getData} from './data.js';\n\nlet adForm = document.querySelector('.ad-form');\nlet adFieldsets = adForm.querySelectorAll('fieldset');\nlet filter = document.querySelector('.map__filters');\nlet mapFilters = filter.querySelectorAll('.map__filter')\nlet mapFeatures = filter.querySelector('.map__features');\nlet mapContainer = document.querySelector('.map__canvas');\nlet addressInput =  adForm.querySelector('#address');\n\n\nlet deactivateForm = (isDeactivate) => {\n  if (isDeactivate) {\n    adForm.classList.add('ad-form--disabled');\n    adFieldsets.forEach((field) => {\n      field.disabled = true;\n    });\n\n    mapFeatures.disabled = true;\n    filter.classList.add('map__filters--disabled')\n    mapFilters.forEach((field) => {\n      field.disabled = true;\n    });\n  } else {\n    adForm.classList.remove('ad-form--disabled');\n    adFieldsets.forEach((field) => {\n      field.disabled = false;\n    });\n\n    mapFeatures.disabled = false;\n    filter.classList.remove('map__filters--disabled')\n    mapFilters.forEach((field) => {\n      field.disabled = false;\n    });\n  }\n}\n\ndeactivateForm(true)\n\nlet map = L.map(mapContainer)\n  .on('load', () => {\n    deactivateForm(false)\n  })\n  .setView(\n    {\n      lat:  TOKYO_LAT,\n      lng: TOKYO_LNG,\n    }, MAP_SCALE);\n\nL.tileLayer(\n  'https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png',\n  {\n    attribution: '&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors',\n  },\n).addTo(map);\n\nlet myIcon = L.icon({\n  iconUrl: 'img/main-pin.svg',\n  iconSize: [MARKER_WIDTH, MARKER_HEIGHT],\n  iconAnchor: [MARKER_WIDTH/2 , MARKER_HEIGHT],\n});\n\nlet marker = L.marker(\n  {\n    lat:  TOKYO_LAT,\n    lng: TOKYO_LNG,\n  },\n  {\n    icon: myIcon,\n    draggable: true,\n  },\n).addTo(map);\n\nexport {marker, map}\n\nlet coordinates = marker.getLatLng();\nlet coordinateLat = Number(coordinates.lat.toFixed(5));\nlet coordinateLng = Number(coordinates.lng.toFixed(5));\n\naddressInput.readOnly = true;\naddressInput.value = `${coordinateLat}, ${coordinateLng}`\n\n\nmarker.on('move', (evt) => {\n  let newCoordinates = evt.target.getLatLng();\n  let newCoordinateLat = Number(newCoordinates.lat.toFixed(5));\n  let newCoordinateLng = Number(newCoordinates.lng.toFixed(5));\n  addressInput.value = `${newCoordinateLat}, ${newCoordinateLng}`;\n})\n\nlet profileIcon = L.icon({\n  iconUrl: 'img/pin.svg',\n  iconSize: [MARKER_WIDTH, MARKER_HEIGHT],\n  iconAnchor: [MARKER_WIDTH/2 , MARKER_HEIGHT],\n});\n\nlet typeInput = document.querySelector('#housing-type');\nlet priceInput = document.querySelector('#housing-price');\nlet roomsInput = document.querySelector('#housing-rooms');\nlet guestInput = document.querySelector('#housing-guests');\nlet featuresCheckList = document.querySelector('#housing-features');\n\nlet addOffersToMap = (array) => {\n\n  let newArray = array\n    .slice()\n    .filter(filterTypes)\n    .filter(filterPrice)\n    .filter(filterRooms)\n    .filter(filterGuest)\n    .filter(filterFeatures)\n\n  newArray\n    .slice(0, 10)\n    .forEach((profile) => {\n      let lat = profile.location.lat;\n      let lng = profile.location.lng;\n      let profileMarker = L.marker({\n        lat,\n        lng,\n      },\n      {\n        icon: profileIcon,\n      },\n      )\n\n      profileMarker.addTo(map).bindPopup(generateOffer(profile))\n    })\n}\n\nexport {addOffersToMap}\n\ngetData((profiles) => {\n  addOffersToMap(profiles)\n  setListener(_.debounce(() => {addOffersToMap(profiles)}, RERENDER_DELAY), typeInput)\n  setListener(_.debounce(() => {addOffersToMap(profiles)}, RERENDER_DELAY), priceInput);\n  setListener(_.debounce(() => {addOffersToMap(profiles)}, RERENDER_DELAY), roomsInput);\n  setListener(_.debounce(() => {addOffersToMap(profiles)}, RERENDER_DELAY), guestInput);\n  setListener(_.debounce(() => {addOffersToMap(profiles)}, RERENDER_DELAY), featuresCheckList);\n});\n","import {FILE_TYPES} from './constants-data.js';\n\nlet avatarInput = document.querySelector('#avatar');\nlet avatarContainer = document.querySelector('.ad-form-header__preview:first-child')\nlet avatar = avatarContainer.querySelector('img')\n\nlet check = (name) => {\n  return FILE_TYPES.some((fileEnd) => {\n    return name.endsWith(fileEnd);\n  })\n}\n\navatarInput.addEventListener('change', () => {\n  let uploadedFile = avatarInput.files[0];\n  let fileName = uploadedFile.name.toLowerCase();\n\n  if (check(fileName)) {\n    let reader = new FileReader;\n\n    reader.readAsDataURL(uploadedFile)\n\n    reader.addEventListener('load', () => {\n      avatar.src = reader.result;\n    })\n  }\n})\n\n\nlet offerImagesInput = document.querySelector('#images');\nlet offerImagesContainer = document.querySelector('.ad-form__photo');\nlet fieldset = document.querySelector('.ad-form__photo-container')\n\n// Добавляем сразу несколько картинок\nofferImagesInput.addEventListener('change', () => {\n  let files = offerImagesInput.files;\n\n  for (let i = 0; i < files.length; i++) {\n    let file = files[i];\n    let fileName = file.name.toLowerCase();\n\n    if (check(fileName)) {\n      let reader = new FileReader;\n\n      reader.readAsDataURL(file);\n\n      let newContainer = offerImagesContainer.cloneNode(true);\n      let newPic = document.createElement('img');\n      newPic.style.width = '100%';\n      newPic.style.height = '100%';\n\n      newContainer.appendChild(newPic);\n      fieldset.appendChild(newContainer);\n      offerImagesContainer.remove();\n\n      reader.addEventListener('load',() => {\n        newPic.src = reader.result;\n      })\n    }\n  }\n})\n\n\n// Чистим фото при нажатии кнопки reset\nlet cleanButton = document.querySelector('.ad-form__reset');\n\nlet cleanPhotos = () => {\n  let containers = document.querySelectorAll('.ad-form__photo');\n  containers.forEach((item) => {item.remove()});\n\n\n  fieldset.appendChild(offerImagesContainer);\n\n  avatar.src = 'img/muffin-grey.svg';\n};\n\ncleanButton.addEventListener('click', cleanPhotos);\n\nexport {cleanPhotos};\n","import {marker} from './map.js';\nimport {TOKYO_LAT, TOKYO_LNG} from './constants-data.js';\nimport {cleanPhotos} from './upload-images.js';\n\nlet generateNumber = function (min, max, point) {\n  if (max < 0 || min < 0 || point < 0 || max < min) {\n    return 'INVALID DATA'\n  }\n\n  let coordinate = Math.random() * (max - min) + min; // https://developer.mozilla.org/ru/docs/Web/JavaScript/Reference/Global_Objects/Math/random#%D0%BF%D0%BE%D0%BB%D1%83%D1%87%D0%B5%D0%BD%D0%B8%D0%B5_%D1%81%D0%BB%D1%83%D1%87%D0%B0%D0%B9%D0%BD%D0%BE%D0%B3%D0%BE_%D1%87%D0%B8%D1%81%D0%BB%D0%B0_%D0%B2_%D0%B7%D0%B0%D0%B4%D0%B0%D0%BD%D0%BD%D0%BE%D0%BC_%D0%B8%D0%BD%D1%82%D0%B5%D1%80%D0%B2%D0%B0%D0%BB%D0%B5\n  return Number(coordinate.toFixed(point));  //https://learn.javascript.ru/number#okruglenie\n};\n\nlet getRandomElementNoRepeat = function (array) {\n  let randomElementIndex = generateNumber(0, array.length - 1);\n  let randomElement = array[randomElementIndex];\n  array.splice(randomElementIndex, 1);\n  return randomElement;\n}\n\nlet getRandomElement = function (array) {\n  let randomElementIndex = generateNumber(0, array.length - 1);\n  return array[randomElementIndex];\n}\n\nlet randomPositiveNumber = () => {\n  return generateNumber(0 , Number.MAX_SAFE_INTEGER)\n}\n\nlet getNoRepeatList = (array) => {\n  return array.slice(0, generateNumber(0,array.length))\n}\n\nfunction openErrorDataPopup () {\n  let errorPopup = document.createElement('div');\n  errorPopup.style.height = '50px';\n  errorPopup.style.textAlign = 'center';\n  errorPopup.style.backgroundColor = '#ffaa99';\n  errorPopup.style.position = 'fixed';\n  errorPopup.style.padding = '10px';\n  errorPopup.style.fontSize = '20px';\n  errorPopup.style.top = 0;\n  errorPopup.style.right = 0;\n  errorPopup.style.left = 0;\n  errorPopup.textContent = 'Ошибка загрузки данных с сервера';\n\n  document.body.appendChild(errorPopup);\n\n  setTimeout(() => {\n    errorPopup.remove();\n  }, 3000)\n}\n\nlet closePopups = (element) => {\n  let closeButton = element.querySelector('button');\n\n  if (element.contains(closeButton)) {\n    closeButton.addEventListener('click', () => {\n      element.remove();\n    })\n  }\n\n  element.addEventListener('click', () => {\n    element.remove();\n  })\n\n  document.addEventListener('keydown', (evt) => {\n    if (evt.keyCode === 27) {\n      element.remove();\n    }\n  })\n}\n\nlet clonePopup = (idSelector, classSelector) => {\n  let template = document.querySelector(idSelector).content.querySelector(classSelector);\n  let popup = template.cloneNode(true);\n  let container = document.querySelector('main')\n  let mapContainer = container.querySelector('.map');\n  mapContainer.style.zIndex = '1';\n  return container.appendChild(popup);\n}\n\nlet clearForm = () => {\n  let filters = document.querySelector('.map__filters');\n  let form = document.querySelector('.ad-form');\n  let address = form.querySelector('#address');\n  form.reset();\n  filters.reset();\n  address.value = `${TOKYO_LAT}, ${TOKYO_LNG}`;\n  marker.setLatLng([TOKYO_LAT, TOKYO_LNG]);\n}\n\nlet onSuccess = () => {\n  clearForm();\n  cleanPhotos();\n  let newSuccessPopup = clonePopup('#success', '.success');\n  closePopups(newSuccessPopup);\n}\n\nlet onError = () => {\n  let errorPopup = clonePopup('#error', '.error')\n  closePopups(errorPopup)\n}\n\nexport {generateNumber, getRandomElementNoRepeat, getRandomElement, randomPositiveNumber, getNoRepeatList, openErrorDataPopup, onSuccess, onError, clearForm};\n","import {openErrorDataPopup} from './utils.js';\n\nfunction getData (onSuccess) {\n  fetch('https://22.javascript.pages.academy/keksobooking/data')\n    .then(\n      (response) => response.json())\n    .then((profiles) => {onSuccess(profiles)})\n    .catch(openErrorDataPopup)\n}\n\nlet postData = (fromData) => {\n\n  return fetch('https://22.javascript.pages.academy/keksobooking',\n    {\n      method: 'POST',\n      body: fromData,\n    },\n  )\n}\n\nexport {getData, postData}\n\n","import {\n  TIMES,\n  ROOMS_AND_CAPA_TOKYO_MAP,\n  MIN_TITLE_LENGTH,\n  MAX_PRICE,\n  ONE_ROOM,\n  TWO_ROOMS,\n  THREE_ROOMS,\n  MANY_ROOMS,\n  NOT_FOR_GUEST,\n  FOR_ONE_GUEST,\n  FOR_TWO_GUEST,\n  FOR_THREE_GUEST\n} from './constants-data.js';\nimport {getData} from './data.js';\nimport {addOffersToMap} from './map.js';\n\nlet typesOffer = Object.keys(ROOMS_AND_CAPA_TOKYO_MAP);\nlet minPricesOfTypesOffer = Object.values(ROOMS_AND_CAPA_TOKYO_MAP);\n\nlet form = document.querySelector('.ad-form');\nlet inputTypeOffer = form.querySelector('#type');\nlet inputPrice = form.querySelector('#price');\nlet inputOfferTitle = form.querySelector('#title');\n\ninputPrice.placeholder = minPricesOfTypesOffer[1];\ninputPrice.min = minPricesOfTypesOffer[1];\n\ninputTypeOffer.addEventListener('change', () => {\n  for (let i = 0; i < typesOffer.length; i++) {\n    if (inputTypeOffer.value === typesOffer[i]) {\n      inputPrice.placeholder = minPricesOfTypesOffer[i]\n      inputPrice.min = minPricesOfTypesOffer[i]\n    }\n  }\n})\n\n// Кастомная валидация максимальной цены\ninputPrice.addEventListener('input', () => {\n  if (inputPrice.value > MAX_PRICE) {\n    inputPrice.setCustomValidity('Максимальная цена 1.000.000')\n  } else {\n    inputPrice.setCustomValidity('')\n  }\n\n  inputPrice.reportValidity();\n})\n\nform.addEventListener('submit', (evt) => {\n  for (let i = 0; i < typesOffer.length; i++) {\n    if (inputTypeOffer.value === typesOffer[i] && inputPrice.value < minPricesOfTypesOffer[i]) {\n      evt.preventDefault();\n    }\n  }\n});\n\ninputOfferTitle.addEventListener('input', () => {\n  let titleLength = inputOfferTitle.value.length;\n  if (titleLength < MIN_TITLE_LENGTH) {\n    inputOfferTitle.setCustomValidity('Ещё ' + (MIN_TITLE_LENGTH - titleLength) +' симв.')\n  } else {\n    inputOfferTitle.setCustomValidity('')\n  }\n\n  inputOfferTitle.reportValidity();\n})\n\nlet inputTimeIn = form.querySelector('#timein');\nlet inputTimeOut = form.querySelector('#timeout');\n\ninputTimeIn.addEventListener('change', () => {\n  for (let i = 0; i < TIMES.length; i++) {\n    if (inputTimeIn.value === TIMES[i]) {inputTimeOut.value = TIMES[i]}\n  }\n})\n\ninputTimeOut.addEventListener('change', () => {\n  for (let i = 0; i < TIMES.length; i++) {\n    if (inputTimeOut.value === TIMES[i]) {inputTimeIn.value = TIMES[i]}\n  }\n})\n\nlet roomNumber = form.querySelector('#room_number')\nlet guestSelect = form.querySelector('#capacity')\nlet capacityOptions = guestSelect.querySelectorAll('option');\n\n// Функция отключающая переданные option\nlet setDisabledValue = (elements, whichOptionsToDisable) => {\n  for (let i = 0; i < elements.length; i++) {\n    elements[i].disabled = false;\n    let valuePosition = whichOptionsToDisable.indexOf(elements[i].value);\n\n    if (valuePosition > -1) {\n      elements[i].disabled = true;\n    }\n  }\n};\n\n// Функция отключает поля гостей, в зависимости от выбранного поля кол-ва комнат\nlet calculateRoomsAndCapacity = () => {\n  let roomsInputValue = roomNumber.value;\n\n  switch (roomsInputValue) {\n    case ONE_ROOM: // Зависимость от выбора кол-ва комнат\n      setDisabledValue(capacityOptions, [NOT_FOR_GUEST, FOR_TWO_GUEST, FOR_THREE_GUEST]); // Массив строк значений option поля кол-ва гостей позволяет отключить ненужные значения\n      capacityOptions[2].selected = true;\n      break;\n    case TWO_ROOMS:\n      setDisabledValue(capacityOptions, [NOT_FOR_GUEST, FOR_THREE_GUEST]);\n      capacityOptions[1].selected = true;\n      break;\n    case THREE_ROOMS:\n      setDisabledValue(capacityOptions, [NOT_FOR_GUEST]);\n      capacityOptions[0].selected = true;\n      break;\n    case MANY_ROOMS:\n      setDisabledValue(capacityOptions, [FOR_ONE_GUEST, FOR_TWO_GUEST, FOR_THREE_GUEST]);\n      capacityOptions[3].selected = true;\n      break;\n  }\n};\n\nlet roomsInputChangeHandler = () => {\n  calculateRoomsAndCapacity();\n};\n\nroomNumber.addEventListener('change', roomsInputChangeHandler);\n\nimport {postData} from './data.js';\nimport {onSuccess, onError, clearForm} from './utils.js';\n\nform.addEventListener('submit',(evt) => {\n  evt.preventDefault();\n\n  let fromData = new FormData(evt.target);\n\n  postData(fromData)\n    .then(onSuccess)\n    .catch(onError)\n});\n\nlet resetButton = form.querySelector('.ad-form__reset');\nresetButton.addEventListener('click', (evt) => {\n  evt.preventDefault();\n  clearForm();\n\n  getData((profiles) => {\n    addOffersToMap(profiles);\n  })\n})\n"],"sourceRoot":""}